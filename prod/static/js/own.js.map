{"version":3,"sources":["common.js"],"names":["$","window","site","obj","map","$map","coords","data","split","ymaps","ready","myMap","Map","center","zoom","controls","add","size","behaviors","disable","myPlacemark","Placemark","iconLayout","iconImageHref","iconImageSize","iconOffset","geoObjects","decorAnimate","width","decorEl","find","each","e","_t","this","_tLeft","parseInt","css","_tTop","attr","mousemove","event","centerX","Math","round","centerY","height","diffX","clientX","diffY","clientY","_tData","_tMaxRound","decorImgLeft","decorImgTop","TweenMax","to","left","top","ease","Expo","easeOut","removeAttr","init","elArray","$body","elemsAnimArr","length","addEventListener","forEach","item","document","querySelectorAll","elem","el","rect","wHeight","wWidth","getBoundingClientRect","innerHeight","documentElement","clientHeight","innerWidth","clientWidth","bottom","offsetHeight","right","classList","Swiper","loop","speed","slidesPerView","effect","fadeEffect","crossFade","spaceBetween","mousewheel","grabCursor","keyboard","simulateTouch","allowSwipeToNext","allowSwipeToPrev","navigation","nextEl","prevEl","on","menuMobile","siblings","hasClass","removeClass","fadeOut","addClass","fadeIn","hiddenEl","parents","first","slideUp","slideDown","eventScroll","$contentTables","wrap","Event","createEvent","initEvent","dispatchEvent","firstLoad","Pace","setTimeout"],"mappings":"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","file":"own.js","sourcesContent":["'use strict';\n\n$(function () {\n  window.site = {};\n  window.site.obj = {\n    map: function map() {\n      var $map = $('.js-map'),\n          coords = $map.data('coords').split(',');\n      ymaps.ready(function () {\n        var myMap = new ymaps.Map(\"yaMap\", {\n          center: [coords[0], coords[1]],\n          zoom: $map.data('zoom') || 16,\n          controls: []\n        });\n        myMap.controls.add('zoomControl', {\n          size: 'small'\n        });\n        myMap.behaviors.disable('scrollZoom');\n        var myPlacemark = new ymaps.Placemark(coords, {}, {\n          iconLayout: 'default#image',\n          iconImageHref: 'static/img/pin.png',\n          iconImageSize: [68, 85],\n          iconOffset: [-25, -25]\n        });\n        myMap.geoObjects.add(myPlacemark);\n      });\n      return;\n    },\n    decorAnimate: function decorAnimate() {\n      var _th = this;\n\n      if ($(window).width() > 1239) {\n        var decorPar = $('.js-decor'),\n            decorEl = decorPar.find('.decor__item');\n        decorEl.each(function (e) {\n          var _t = $(this),\n              _tLeft = parseInt(_t.css('left')),\n              _tTop = parseInt(_t.css('top'));\n\n          _t.attr('data-pos', _tLeft + ',' + _tTop);\n        });\n        $('body').mousemove(function (event) {\n          var centerX = Math.round($(window).width() / 2),\n              centerY = Math.round($(window).height() / 2),\n              diffX = -(event.clientX - centerX) / centerX,\n              diffY = -(event.clientY - centerY) / centerY;\n          decorEl.each(function (e) {\n            var _t = $(this),\n                _tData = _t.data('pos').split(','),\n                _tMaxRound = parseInt(_t.data('maxround')),\n                decorImgLeft = parseInt(_tData[0]),\n                decorImgTop = parseInt(_tData[1]);\n\n            TweenMax.to(_t, 2, {\n              'left': Math.round(decorImgLeft - _tMaxRound * diffX),\n              'top': Math.round(decorImgTop - _tMaxRound * diffY),\n              ease: Expo.easeOut\n            });\n          });\n        });\n      } else {\n        $('.decor__item').each(function () {\n          $(this).removeAttr('style');\n        });\n      }\n    },\n    init: function init() {\n      var $body = $('body'),\n          elemsAnimArr = ['.js-scroll-anim'];\n\n      function visChecker(el) {\n        var rect = el.getBoundingClientRect();\n        var wHeight = window.innerHeight || document.documentElement.clientHeight;\n        var wWidth = window.innerWidth || document.documentElement.clientWidth;\n        return rect.bottom - el.offsetHeight * 0.50 <= wHeight && rect.right <= wWidth;\n      }\n\n      function elemVisCheck(elArray) {\n        window.addEventListener('scroll', function () {\n          if (elArray.length) {\n            elArray.forEach(function (item) {\n              if (document.querySelectorAll(item).length) {\n                document.querySelectorAll(item).forEach(function (elem) {\n                  if (visChecker(elem)) {\n                    elem.classList.add('start-animate');\n                  }\n                });\n              }\n            });\n          }\n        });\n      }\n\n      if (elemsAnimArr.length) {\n        elemVisCheck(elemsAnimArr);\n      }\n\n      if ($('.js-decor').length) {\n        this.decorAnimate();\n      }\n\n      if ($('.js-map').length) {\n        this.map();\n      }\n\n      if ($('.js-igall-swiper').length) {\n        var igallSlider = new Swiper('.js-igall-swiper', {\n          loop: true,\n          speed: 750,\n          slidesPerView: 1,\n          effect: 'fade',\n          fadeEffect: {\n            crossFade: true\n          },\n          spaceBetween: 0,\n          mousewheel: false,\n          grabCursor: false,\n          keyboard: false,\n          simulateTouch: false,\n          allowSwipeToNext: false,\n          allowSwipeToPrev: false,\n          navigation: {\n            nextEl: '.igall .swiper-button-next',\n            prevEl: '.igall .swiper-button-prev'\n          }\n        });\n      }\n\n      if ($('.js-burger').length) {\n        $('.js-burger').on('click', function () {\n          var _t = $(this),\n              menuMobile = _t.siblings('.nav__list');\n\n          if (!_t.hasClass('nav__burger--active')) {\n            _t.addClass('nav__burger--active');\n\n            $body.addClass('open-menu');\n            menuMobile.fadeIn(350).css('display', 'flex');\n          } else {\n            _t.removeClass('nav__burger--active');\n\n            menuMobile.fadeOut(350);\n            $body.removeClass('open-menu');\n          }\n\n          return false;\n        });\n      }\n\n      if ($('.js-btn-toggle-table').length) {\n        $('.js-btn-toggle-table').on('click', function () {\n          var _t = $(this),\n              hiddenEl = _t.parents('.price-table').find('.price-table__content').first();\n\n          if (!_t.hasClass('active')) {\n            _t.addClass('active');\n\n            hiddenEl.slideDown('slow');\n          } else {\n            _t.removeClass('active');\n\n            hiddenEl.slideUp('slow');\n          }\n\n          return false;\n        });\n      }\n\n      var $contentTables = $(\".text table\");\n      var wrapFlag;\n\n      if ($contentTables.length) {\n        $contentTables.each(function () {\n          if (!$(this).parents('.price-table').length) {\n            $(this).wrap('<div class=\"table-wrap\">');\n          }\n        });\n      }\n\n      var eventScroll;\n\n      try {\n        eventScroll = new Event('scroll');\n      } catch (e) {\n        eventScroll = document.createEvent('Event');\n        var doesnt_bubble = false,\n            isnt_cancelable = false;\n        eventScroll.initEvent('scroll', doesnt_bubble, isnt_cancelable);\n      }\n\n      window.dispatchEvent(eventScroll);\n      return this;\n    }\n  };\n  var firstLoad = true;\n  Pace.on('hide', function () {\n    if (firstLoad) {\n      firstLoad = false;\n      setTimeout(function () {\n        window.site.obj.init();\n      }, 200);\n    }\n  });\n});"]}