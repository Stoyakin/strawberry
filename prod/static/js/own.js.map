{"version":3,"sources":["common.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"own.js","sourcesContent":["'use strict';\n\n$(function () {\n  window.site = {};\n  window.site.obj = {\n    map: function map() {\n      var $map = $('.js-map'),\n          coords = $map.data('coords').split(',');\n      ymaps.ready(function () {\n        var myMap = new ymaps.Map(\"yaMap\", {\n          center: [coords[0], coords[1]],\n          zoom: $map.data('zoom') || 16,\n          controls: []\n        });\n        myMap.controls.add('zoomControl', {\n          size: 'small'\n        });\n        myMap.behaviors.disable('scrollZoom');\n        var myPlacemark = new ymaps.Placemark(coords, {}, {\n          iconLayout: 'default#image',\n          iconImageHref: 'static/img/pin.png',\n          iconImageSize: [68, 85],\n          iconOffset: [-25, -25]\n        });\n        myMap.geoObjects.add(myPlacemark);\n      });\n      return;\n    },\n    decorAnimate: function decorAnimate() {\n      var _th = this;\n\n      if ($(window).width() > 1239) {\n        var decorPar = $('.js-decor'),\n            decorEl = decorPar.find('.decor__item');\n        decorEl.each(function (e) {\n          var _t = $(this),\n              _tLeft = parseInt(_t.css('left')),\n              _tTop = parseInt(_t.css('top'));\n\n          _t.attr('data-pos', _tLeft + ',' + _tTop);\n        });\n        $('body').mousemove(function (event) {\n          var centerX = Math.round($(window).width() / 2),\n              centerY = Math.round($(window).height() / 2),\n              diffX = -(event.clientX - centerX) / centerX,\n              diffY = -(event.clientY - centerY) / centerY;\n          decorEl.each(function (e) {\n            var _t = $(this),\n                _tData = _t.data('pos').split(','),\n                _tMaxRound = parseInt(_t.data('maxround')),\n                decorImgLeft = parseInt(_tData[0]),\n                decorImgTop = parseInt(_tData[1]);\n\n            TweenMax.to(_t, 2, {\n              'left': Math.round(decorImgLeft - _tMaxRound * diffX),\n              'top': Math.round(decorImgTop - _tMaxRound * diffY),\n              ease: Expo.easeOut\n            });\n          });\n        });\n      } else {\n        $('.decor__item').each(function () {\n          $(this).removeAttr('style');\n        });\n      }\n    },\n    init: function init() {\n      var $body = $('body'),\n          elemsAnimArr = ['.js-scroll-anim'];\n\n      function visChecker(el) {\n        var rect = el.getBoundingClientRect();\n        var wHeight = window.innerHeight || document.documentElement.clientHeight;\n        var wWidth = window.innerWidth || document.documentElement.clientWidth;\n        return rect.bottom - el.offsetHeight * 0.50 <= wHeight && rect.right <= wWidth;\n      }\n\n      function elemVisCheck(elArray) {\n        window.addEventListener('scroll', function () {\n          if (elArray.length) {\n            elArray.forEach(function (item) {\n              if (document.querySelectorAll(item).length) {\n                document.querySelectorAll(item).forEach(function (elem) {\n                  if (visChecker(elem)) {\n                    elem.classList.add('start-animate');\n                  }\n                });\n              }\n            });\n          }\n        });\n      }\n\n      if (elemsAnimArr.length) {\n        elemVisCheck(elemsAnimArr);\n      }\n\n      if ($('.js-decor').length) {\n        this.decorAnimate();\n      }\n\n      if ($('.js-map').length) {\n        this.map();\n      }\n\n      if ($('.js-igall-swiper').length) {\n        var igallSlider = new Swiper('.js-igall-swiper', {\n          loop: true,\n          speed: 750,\n          slidesPerView: 1,\n          effect: 'fade',\n          fadeEffect: {\n            crossFade: true\n          },\n          spaceBetween: 0,\n          mousewheel: false,\n          grabCursor: false,\n          keyboard: false,\n          simulateTouch: false,\n          allowSwipeToNext: false,\n          allowSwipeToPrev: false,\n          navigation: {\n            nextEl: '.igall .swiper-button-next',\n            prevEl: '.igall .swiper-button-prev'\n          }\n        });\n      }\n\n      if ($('.js-burger').length) {\n        $('.js-burger').on('click', function () {\n          var _t = $(this),\n              menuMobile = _t.siblings('.nav__list');\n\n          if (!_t.hasClass('nav__burger--active')) {\n            _t.addClass('nav__burger--active');\n\n            $body.addClass('open-menu');\n            menuMobile.fadeIn(350).css('display', 'flex');\n          } else {\n            _t.removeClass('nav__burger--active');\n\n            menuMobile.fadeOut(350);\n            $body.removeClass('open-menu');\n          }\n\n          return false;\n        });\n      }\n\n      if ($('.js-btn-toggle-table').length) {\n        $('.js-btn-toggle-table').on('click', function () {\n          var _t = $(this),\n              hiddenEl = _t.parents('.price-table').find('.price-table__content').first();\n\n          if (!_t.hasClass('active')) {\n            _t.addClass('active');\n\n            hiddenEl.slideDown('slow');\n          } else {\n            _t.removeClass('active');\n\n            hiddenEl.slideUp('slow');\n          }\n\n          return false;\n        });\n      }\n\n      var $contentTables = $(\".text table\");\n      var wrapFlag;\n\n      if ($contentTables.length) {\n        $contentTables.each(function () {\n          if (!$(this).parents('.price-table').length) {\n            $(this).wrap('<div class=\"table-wrap\">');\n          }\n        });\n      }\n\n      var eventScroll;\n\n      try {\n        eventScroll = new Event('scroll');\n      } catch (e) {\n        eventScroll = document.createEvent('Event');\n        var doesnt_bubble = false,\n            isnt_cancelable = false;\n        eventScroll.initEvent('scroll', doesnt_bubble, isnt_cancelable);\n      }\n\n      window.dispatchEvent(eventScroll);\n      return this;\n    }\n  };\n  var firstLoad = true;\n  Pace.on('hide', function () {\n    if (firstLoad) {\n      firstLoad = false;\n      setTimeout(function () {\n        window.site.obj.init();\n      }, 200);\n    }\n  });\n});"]}